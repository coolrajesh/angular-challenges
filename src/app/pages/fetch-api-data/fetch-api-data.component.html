<app-challenge-details [title]="challenges.title" [requirements]="challenges.requirements"
    [features]="challenges.features"></app-challenge-details>
<div class="mt-3 rounded-lg shadow-md bg-white">
    <div class="bg-gray-200 px-4 py-3 font-semibold text-gray-800">Fetche data from a public API</div>
    <div class="bg-white p-6 rounded-lg shadow-lg">
        @if(posts.length>0){
        <table class="min-w-full border border-gray-300 mt-4 shadow-lg rounded-lg overflow-hidden">
            <thead class="bg-gradient-to-r from-blue-500 to-blue-600 text-white sticky top-0">
                <tr>
                    <th class="border px-4 py-3 text-left">Sr.No.</th>
                    <th class="border px-4 py-3 text-left">Title</th>
                    <th class="border px-4 py-3 text-left">Body</th>
                </tr>
            </thead>
            <tbody>
                @for (post of posts; track post) {
                <tr class="border even:bg-gray-100 odd:bg-white hover:bg-blue-100 transition-all duration-200">
                    <td class="border px-4 py-3 font-semibold text-gray-700">{{ post.index }}</td>
                    <td class="border px-4 py-3 text-gray-800">{{ post.title }}</td>
                    <td class="border px-4 py-3 text-gray-600">{{ post.body }}</td>
                </tr>
                }
            </tbody>
        </table>
        }@else {
        <div class="space-y-4 animate-pulse mt-5 ">
            <!-- Title -->
            <div class="h-10 bg-gradient-to-r from-gray-300 via-gray-200 to-gray-300 rounded w-3/4"></div>

            <!-- Content Lines -->
            <div class="h-8 bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 rounded w-5/6"></div>
            <div class="h-8 bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 rounded w-2/3"></div>

            <!-- Avatar + Text -->
            <div class="flex items-center space-x-4">
                <!-- Avatar -->
                <div class="w-10 h-10 bg-gradient-to-r from-gray-300 via-gray-200 to-gray-300 rounded-full"></div>
                <!-- Name Placeholder -->
                <div class="h-4 bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 rounded w-1/3"></div>
            </div>
        </div>
        }
    <div class="p-6 bg-white shadow-lg rounded-lg">
       
        <!-- Page Size Selection -->
        <label for="pageSize" class="mr-2">Page Size:</label>
        <select id="pageSize" [(ngModel)]="pageSize" (change)="changePage(1)">
            <option *ngFor="let size of [10, 20, 50]" [value]="size">{{ size }}</option>
        </select>
        <!-- Numbered Pagination -->
        <div class="mt-4 flex justify-center space-x-2">
            <button (click)="changePage(1)" [disabled]="currentPage === 1"
                class="px-4 py-2 bg-gray-300 rounded">First</button>
            <button (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1"
                class="px-4 py-2 bg-gray-300 rounded">Prev</button>
    
            <button *ngFor="let page of pageNumbers" (click)="changePage(page)" [class.bg-blue-500]="page === currentPage"
                class="px-4 py-2 border rounded">
                {{ page }}
            </button>
    
            <button (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages"
                class="px-4 py-2 bg-gray-300 rounded">Next</button>
            <button (click)="changePage(totalPages)" [disabled]="currentPage === totalPages"
                class="px-4 py-2 bg-gray-300 rounded">Last</button>
        </div>
    </div>

    </div>
 

</div>